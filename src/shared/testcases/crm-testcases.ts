import { NaturalPersonQuery } from '@dale/client/modules/dto/natural-person-query.dto';
import { gmfEnum } from '@dale/client/common/enums/gmf.enum';
import { identificationTypeEnum } from '@dale/client/common/enums/identification.enum';
import {
  cardAgreementEnum,
  cardStateEnum,
  cardTypeEnum,
  clientStateEnum,
} from '@dale/client/common/enums';
import { CardDto } from '@dale/crm-connector-adapter/dto/cards.dto';
import { NaturalPersonDto } from '@dale/crm-connector-adapter/dto/natural-person.dto';
import { nullRemover } from '@dale/crm-connector-adapter/helpers/null-remover';
import {
  NaturalPersonResponseCRM,
  NaturalResponseByParamsCRM,
  CardResponseCRM,
  CardResponseCRMByContactRelated,
  DepositResponseCRM,
  DepositResponseCRMByPartyNumber,
} from '@dale/crm-connector-adapter/interfaces';

export const contactResponseTest: NaturalPersonResponseCRM = {
  PartyId: 300000002402789,
  PartyNumber: '3014',
  SourceSystem: null,
  SourceSystemReferenceValue: null,
  AccountPartyId: null,
  AccountPartyNumber: '12345678',
  AccountSourceSystem: null,
  AccountSourceSystemReferenceValue: null,
  AccountName: null,
  AccountUniqueName: null,
  PersonProfileId: 300000002402789,
  FirstName: 'PRUEBA',
  LastName: 'CONTACTO',
  LastNamePrefix: null,
  MiddleName: null,
  UniqueNameSuffix: null,
  ContactName: 'PRUEBA CONTACTO',
  PreviousLastName: null,
  SecondLastName: 'ICX',
  OwnerPartyId: 300000002264650,
  OwnerPartyNumber: '2003',
  OwnerEmailAddress: 'usuario.integraciones@icx.co',
  OwnerName: 'USUARIO INTEGRACIONES',
  SalesProfileNumber: '103013',
  Type: 'ZCA_CONTACT',
  ExistingCustomerFlag: false,
  ExistingCustomerFlagLastUpdateDate: null,
  NamedFlag: false,
  LastAssignmentDate: null,
  AssignmentExceptionFlag: false,
  SalesProfileStatus: 'ACTIVE',
  TaxpayerIdentificationNumber: null,
  DateOfBirth: null,
  PlaceOfBirth: null,
  DateOfDeath: null,
  DeceasedFlag: false,
  Gender: null,
  MaritalStatus: null,
  MaritalStatusEffectiveDate: null,
  DeclaredEthnicity: null,
  PreferredFunctionalCurrency: null,
  PersonalIncomeAmount: null,
  HeadOfHouseholdFlag: false,
  HouseholdIncomeAmount: null,
  HouseholdSize: null,
  Salutation: null,
  SalutoryIntroduction: null,
  Title: null,
  AcademicTitle: null,
  Initials: null,
  RentOrOwnIndicator: null,
  CertificationLevel: null,
  CertificationReasonCode: null,
  Comments: null,
  PreferredContactMethod: null,
  FavoriteContactFlag: 'false',
  Department: null,
  DepartmentCode: null,
  DoNotCallFlag: false,
  DoNotContactFlag: false,
  DoNotEmailFlag: false,
  DoNotMailFlag: false,
  JobTitle: null,
  JobTitleCode: null,
  LastContactDate: null,
  LastKnownGPS: null,
  SalesAffinityCode: null,
  SalesBuyingRoleCode: null,
  CurrencyCode: 'USD',
  DataCloudStatus: null,
  LastEnrichmentDate: null,
  PartyStatus: 'A',
  PartyType: 'PERSON',
  CreatedByModule: 'FUSE',
  CreatedBy: 'usuario.integraciones',
  CreationDate: '2023-02-06T17:06:12.064+00:00',
  LastUpdateDate: '2023-02-06T17:07:14.440+00:00',
  LastUpdateLogin: 'F20566699425FCC5E0538854500AD328',
  LastUpdatedBy: 'usuario.integraciones',
  WorkPhoneContactPointType: null,
  WorkPhoneCountryCode: null,
  WorkPhoneAreaCode: null,
  WorkPhoneNumber: '3003334444',
  WorkPhoneExtension: null,
  FormattedWorkPhoneNumber: null,
  RawWorkPhoneNumber: null,
  MobileContactPointType: null,
  MobileCountryCode: null,
  MobileAreaCode: null,
  MobileNumber: null,
  MobileExtension: null,
  FormattedMobileNumber: null,
  RawMobileNumber: '+57-300-3334444',
  FaxContactPointType: null,
  FaxCountryCode: null,
  FaxAreaCode: null,
  FaxNumber: null,
  FaxExtension: null,
  FormattedFaxNumber: null,
  RawFaxNumber: null,
  HomePhoneContactPointType: null,
  HomePhoneCountryCode: null,
  HomePhoneAreaCode: null,
  HomePhoneNumber: null,
  FormattedHomePhoneNumber: null,
  RawHomePhoneNumber: null,
  EmailContactPointType: null,
  EmailFormat: null,
  EmailAddress: 'prueba.usuario@mail.com',
  PrimaryAddressId: null,
  PartyNumberKey: '3014',
  SellToPartySiteId: null,
  ClassificationCategory: null,
  ClassificationCode: null,
  ContactIsPrimaryForAccount: null,
  NameSuffix: null,
  ContactUniqueName: 'PRUEBA CONTACTO',
  RecordSet: null,
  SourceObjectType: 'SALES_PARTY_CONTACT',
  ContactRole: null,
  RegistrationStatus: null,
  UpdateFlag: true,
  DeleteFlag: true,
  AddressNumber: null,
  AddressElementAttribute1: null,
  AddressElementAttribute2: null,
  AddressElementAttribute3: null,
  AddressElementAttribute4: null,
  AddressElementAttribute5: null,
  AddressLine1: 'address 1 no 20-30',
  AddressLine2: null,
  AddressLine3: null,
  AddressLine4: null,
  Building: null,
  City: 'Bogota',
  Country: null,
  County: null,
  FloorNumber: null,
  PostalCode: null,
  PostalPlus4Code: null,
  Province: null,
  State: null,
  Mailstop: null,
  AddressLinesPhonetic: null,
  AddressType: null,
  FormattedAddress: null,
  OverallPrimaryFormattedPhoneNumber: null,
  OverallPrimaryPhoneContactPtId: null,
  TimezoneCode: null,
  ConflictId: 0,
  DoNotCallMobileFlag: false,
  DoNotCallWorkPhoneFlag: false,
  DoNotCallHomePhoneFlag: false,
  DoNotContactEmailFlag: false,
  DoNotContactFaxFlag: false,
  WorkPhoneVerificationStatus: null,
  WorkPhoneVerificationDate: null,
  MobileVerificationStatus: null,
  MobileVerificationDate: null,
  FaxVerificationStatus: null,
  FaxVerificationDate: null,
  HomePhoneVerificationStatus: null,
  HomePhoneVerificationDate: null,
  EmailVerificationStatus: null,
  EmailVerificationDate: null,
  DoCallMobilePhoneFlag: false,
  DoCallWorkPhoneFlag: false,
  DoCallHomePhoneFlag: false,
  DoContactFaxFlag: false,
  DoContactEmailFlag: false,
  MobilePhoneContactPtId: null,
  WorkPhoneContactPtId: null,
  HomePhoneContactPtId: null,
  FaxContactPtId: null,
  EmailContactPtId: null,
  RawPhoneNumber: '+57-300-3334444',
  PersonDEO_dl_tipo_identificacion_c: identificationTypeEnum.CC,
  PersonDEO_dl_numero_identificacion_c: '455555',
  PersonDEO_dl_genero_c: null,
  PersonDEO_dl_peps_c: null,
  PersonDEO_dl_fecha_expedicion_c: null,
  PersonDEO_dl_genero_cliente_c: null,
  PersonDEO_dl_identificadfor_dale_1_c: null,
  PersonDEO_dl_tipo_enrrolamiento_c: 'simplificado',
  PersonDEO_dl_id_unico_cliente_dale_c: null,
  PersonDEO_dl_migrated_c: null,
  PersonDEO_dl_NumeroDeTarjeta_c: null,
  PersonDEO_dl_fecha_registro_c: '2023-02-06T17:06:12.064+00:00',
  PersonDEO_dl_ultimo_ingreso_c: '2023-02-06T17:06:12.064+00:00',
  PersonDEO_dl_fecha_migracion_c: null,
  links: [
    {
      rel: 'self',
      href: 'https://an-url.com/',
      name: 'contacts',
      kind: 'item',
      properties: {
        changeIndicator: 'ANSTRING',
      },
    },
    {
      rel: 'canonical',
      href: 'https://an-url.com/',
      name: 'contacts',
      kind: 'item',
    },
  ],
};

export const contactResponseByParamTest: NaturalResponseByParamsCRM = {
  items: [contactResponseTest],
  count: 1,
  hasMore: false,
  limit: 25,
  offset: 0,
  links: [
    {
      rel: 'self',
      href: 'https://an-url.com/',
      name: 'contacts',
      kind: 'collection',
    },
    {
      rel: 'action',
      href: 'https://an-url.com/',
      name: 'findDuplicates',
      kind: 'other',
    },
  ],
};

export const identificationSearch =
  "?q=PersonDEO_dl_numero_identificacion_c='455555'";
export const phoneSearch = `?q=WorkPhoneNumber='3213334444'`;
export const depositNumber = `?q=dl_Contacto_Id_c='12345678'`;

export const queryIdentification: NaturalPersonQuery = {
  identification: '455555',
};
export const queryPhoneNumber: NaturalPersonQuery = {
  phone: '3213334444',
};
export const queryDepositNumber: NaturalPersonQuery = {
  depositNumber: '12345678',
};
export const partyId = '3014';

export const cardResponse: CardResponseCRM = {
  Id: 100000001450615,
  RecordName: 'TJ_00013',
  CreatedBy: 'valentina.sarmiento@imaginecx.co',
  CreationDate: '2023-02-20T16:29:48+00:00',
  LastUpdatedBy: 'valentina.sarmiento@imaginecx.co',
  LastUpdateDate: '2023-02-20T16:29:48+00:00',
  RecordNumber: '4018',
  PersonProfile_Id_c: 300000002402789,
  LastUpdateLogin: 'F521A71767201492E053455D500AC024',
  UserLastUpdateDate: null,
  ConflictId: 0,
  CurrencyCode: 'USD',
  CurcyConvRateType: 'Corporate',
  CorpCurrencyCode: 'USD',
  OraZcxOwner_Id_c: '300000002420038',
  OraZcxOwner_c: 'USUARIO INTEGRACIONES',
  SelectedRow: null,
  dl_Contacto_Id_c: 300000002761186,
  dl_Contacto_c: 'Cosme Fulanito',
  dl_ConvenioDeLaTarjeta_Id_c: null,
  dl_ConvenioDeLaTarjeta_c: null,
  dl_EstadoTarjeta_c: cardStateEnum.ACTIVO,
  dl_FechaActivacionDeLaTarjeta_c: '2023-04-18T15:03:00+00:00',
  dl_FechaCambioDeEstado_c: null,
  dl_FechaCancelacion_c: null,
  dl_FechaMigracion_c: null,
  dl_FechaDeRegistro_c: null,
  dl_FechaSolicitudTarjeta_c: '2023-04-10T15:03:00+00:00',
  dl_IDUnicoClienteDALE_c: null,
  dl_IldentificadorEnCMS_c: null,
  dl_Migracion_c: '0',
  dl_MotivoCambioFisica_c: null,
  dl_MotivoCambioDeEstadoTarjetaVirtual_c: null,
  dl_NoDeTarjeta_c: '1234',
  dl_TipoDeTarjeta_c: cardTypeEnum.FISICA,
  dl_nroDeTarjeta_c: '1234',
  dl_ConvenioMaestro_Id_c: '300000002313642',
  dl_ConvenioMaestro_c: cardAgreementEnum.EMPTY,
  dl_conveniodeposito_Id_c: null,
  dl_conveniodeposito_c: null,
  dl_NroTarjeta_c: '1234',
  links: [
    {
      rel: 'self',
      href: 'https://fa-exar-test-saasfaprod1.fa.ocs.oraclecloud.com:443/crmRestApi/resources/11.13.18.05/contacts/52149/child/PersonDEO_TarjetasCollection_c/100000001450615',
      name: 'PersonDEO_TarjetasCollection_c',
      kind: 'item',
      properties: {
        changeIndicator:
          'ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A65787000000001770400000001737200146A6176612E6D6174682E426967446563696D616C54C71557F981284F0300024900057363616C654C0006696E7456616C7400164C6A6176612F6D6174682F426967496E74656765723B787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B020000787000000000737200146A6176612E6D6174682E426967496E74656765728CFC9F1FA93BFB1D030006490008626974436F756E744900096269744C656E67746849001366697273744E6F6E7A65726F427974654E756D49000C6C6F776573745365744269744900067369676E756D5B00096D61676E69747564657400025B427871007E0004FFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFE00000001757200025B42ACF317F8060854E002000078700000000101787878',
      },
    },
  ],
};

export const cardResponseTest: CardResponseCRMByContactRelated = {
  items: [cardResponse],
  count: 1,
  hasMore: false,
  limit: 25,
  offset: 0,
  links: [
    {
      rel: 'self',
      href: 'https://fa-exar-test-saasfaprod1.fa.ocs.oraclecloud.com:443/crmRestApi/resources/11.13.18.05/contacts/52149/child/PersonDEO_TarjetasCollection_c',
      name: 'PersonDEO_TarjetasCollection_c',
      kind: 'collection',
    },
  ],
};

export const emptyCardResponseTest: CardResponseCRMByContactRelated = {
  items: [],
  count: 0,
  hasMore: false,
  limit: 0,
  offset: 0,
  links: [],
};

export const mappedCardsTest = cardResponseTest.items.map(
  (card) => new CardDto(card),
);

export const depositResponseTest: DepositResponseCRM = {
  Id: 300000003296694,
  RecordName: 'D-000012',
  CreatedBy: 'usuario.integraciones',
  CreationDate: '2023-03-14T14:48:31.115+00:00',
  LastUpdatedBy: 'prv_lisbeth.alvarez@dale.com.co',
  LastUpdateDate: '2023-03-14T14:49:14.079+00:00',
  RecordNumber: '24006',
  LastUpdateLogin: null,
  UserLastUpdateDate: '2023-03-14T14:49:14.079+00:00',
  Conflictid: 0,
  CurrencyCode: 'USD',
  OraZcxOwner_Id_c: 300000002420038,
  OraZcxOwner_c: 'USUARIO INTEGRACIONES',
  SelectedRow: null,
  CurcyConvRateType: 'Corporate',
  CorpcurrencyCode: '',
  MarcadoGMF_c: gmfEnum.SI,
  dl_EstadoDeposito_c: clientStateEnum.ACTIVO,
  dl_Contacto_Id_c: 300000002761186,
  dl_Contacto_c: 'Cosme Fulanito',
  dl_FechaCambioEstado_c: '2023-04-18T17:49:00+00:00',
  dl_FechaMigracion_c: null,
  dl_IDUnicoClienteDALE_c: null,
  dl_Migracion_c: '0',
  dl_NumeroDeDeposito_c: '2000001',
  dl_cambio_estado_c: null,
  dl_razon_c_estado_c: null,
  dl_RazonCambioDeEstado_c: null,
  dl_convenio_del_deposito_Id_c: null,
  dl_convenio_del_deposito_c: null,
  dl_observacion_c: null,
  links: [
    {
      rel: 'self',
      href: 'https://fa-exar-test-saasfaprod1.fa.ocs.oraclecloud.com:443/crmRestApi/resources/11.13.18.05/contacts/53023/child/PersonDEO_Deposito_c/300000003296694',
      name: 'PersonDEO_Deposito_c',
      kind: 'item',
      properties: {
        changeIndicator:
          'ACED0005737200136A6176612E7574696C2E41727261794C6973747881D21D99C7619D03000149000473697A65787000000001770400000001737200146A6176612E6D6174682E426967446563696D616C54C71557F981284F0300024900057363616C654C0006696E7456616C7400164C6A6176612F6D6174682F426967496E74656765723B787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B020000787000000000737200146A6176612E6D6174682E426967496E74656765728CFC9F1FA93BFB1D030006490008626974436F756E744900096269744C656E67746849001366697273744E6F6E7A65726F427974654E756D49000C6C6F776573745365744269744900067369676E756D5B00096D61676E69747564657400025B427871007E0004FFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFE00000001757200025B42ACF317F8060854E002000078700000000101787878',
      },
    },
  ],
};

export const depositResponseTestByPartyNumber: DepositResponseCRMByPartyNumber =
  {
    items: [depositResponseTest],
    count: 0,
    hasMore: false,
    limit: 0,
    offset: 0,
    links: [],
  };

export const emptyDepositResponseTestByPartyNumber: DepositResponseCRMByPartyNumber =
  {
    items: [],
    count: 0,
    hasMore: false,
    limit: 0,
    offset: 0,
    links: [],
  };

export let naturalPersonMappedTest: NaturalPersonDto = new NaturalPersonDto(
  contactResponseTest,
  cardResponseTest.items[0],
  depositResponseTestByPartyNumber.items[0],
  '10',
  '10',
);

naturalPersonMappedTest = nullRemover(naturalPersonMappedTest);

export let naturalPersonSearchedByParamMappedTestWithoutCardAndDeposit: NaturalPersonDto =
  new NaturalPersonDto(
    contactResponseByParamTest.items[0],
    emptyCardResponseTest.items[0],
    emptyDepositResponseTestByPartyNumber.items[0],
    '10',
    '10',
  );

naturalPersonSearchedByParamMappedTestWithoutCardAndDeposit = nullRemover(
  naturalPersonSearchedByParamMappedTestWithoutCardAndDeposit,
);
