{"openapi":"3.0.0","paths":{"/user":{"get":{"operationId":"getUser","summary":"Get user","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}},{"name":"documentNumber","required":true,"in":"query","description":"User document number","schema":{"type":"string"}},{"name":"phoneNumber","required":true,"in":"query","description":"User phone number","schema":{"type":"string"}},{"name":"accountNumber","required":true,"in":"query","description":"User account number","schema":{"type":"string"}},{"name":"email","required":true,"in":"query","description":"User email","schema":{"type":"string"}},{"name":"trackingId","required":true,"in":"query","description":"Tracking identifier","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully fetched user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]},"put":{"operationId":"updateUser","summary":"Update a user","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"User has been updated successfully"},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]},"post":{"operationId":"createUser","summary":"Create User","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequestDto"}}}},"responses":{"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]}},"/user/exist":{"post":{"operationId":"validateUserExist","summary":"Get user by account number or phone number","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ValdiateUserExistDto"}}}},"responses":{"200":{"description":"Successfully fetched user","content":{"application/json":{"schema":{"example":{"data":{"phoneNumber":"string","accountNumber":["string"]}}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"example":{"error":{"code":"string","message":"string"}}}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"example":{"message":"Something went wrong","statusCode":500,"errors":[{"reason":"internal_server_error","details":"Service request failed with status code 500","code":2000,"source":"system"}]}}}}}},"tags":["user-service"]}},"/user/phone-number":{"put":{"operationId":"updatePhoneNumber","summary":"Update phone number and trigger verification","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePhoneNumberDto"}}}},"responses":{"200":{"description":"Phone number updated and verification process triggered successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePhoneNumberResponse"}}}},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]}},"/user/device":{"put":{"operationId":"updateDevice","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateDeviceDto"}}}},"responses":{"200":{"description":""}},"tags":["user-service"]}},"/user/deposit":{"post":{"operationId":"AddUserDeposit","summary":"Add User Deposit","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddUserDepositDto"}}}},"responses":{"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]}},"/user/locate/{phoneNumber}":{"put":{"operationId":"updateLocateUser","summary":"update locate by phoneNumber","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}},{"name":"phoneNumber","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLocateDto"}}}},"responses":{"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]}},"/user/{userId}/requirements":{"get":{"operationId":"requirementsUser","summary":"requirements for this user","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}},{"name":"userId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-service"]}},"/user/favorite":{"post":{"operationId":"create","summary":"Create new favorite","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFavoriteDto"}}}},"responses":{"201":{"description":"New favorite created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Favorite"}}}},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-favorites"]}},"/user/{userId}/favorites":{"get":{"operationId":"findAllById","summary":"Get favorite by userId","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}},{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"filter","required":true,"in":"query","schema":{"type":"string"}},{"name":"limit","required":true,"in":"query","schema":{"type":"number"}},{"name":"offset","required":true,"in":"query","schema":{"type":"number"}}],"responses":{"200":{"description":"Successfully fetched favorite","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Favorite"}}}},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-favorites"]}},"/user/{userId}/favorite/{favoriteId}":{"delete":{"operationId":"remove","summary":"Delete favorite by Id","parameters":[{"name":"ApiVersion","in":"header","description":"please select a version","required":true,"schema":{"enum":["1"],"type":"string"}},{"name":"TransactionId","in":"header","required":true,"schema":{"type":"string"}},{"name":"ChannelId","in":"header","required":true,"schema":{"type":"string"}},{"name":"SessionId","in":"header","required":false,"schema":{"type":"string"}},{"name":"Timestamp","in":"header","required":true,"schema":{"type":"string"}},{"name":"IpAddress","in":"header","required":true,"schema":{"type":"string"}},{"name":"Application","in":"header","required":true,"schema":{"type":"string"}},{"name":"userId","required":true,"in":"path","schema":{"type":"string"}},{"name":"favoriteId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Successfully remove favorite","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Favorite"}}}},"400":{"description":"Invalid payload"},"500":{"description":"Internal server error"}},"tags":["user-favorites"]}},"/service/config":{"get":{"operationId":"getConfig","parameters":[],"responses":{"200":{"description":""}}}},"/service/health":{"get":{"operationId":"check","parameters":[],"responses":{"200":{"description":""}}}}},"info":{"title":"user-service service","description":"The user-service service API descriptions","version":"1.0","contact":{}},"tags":[{"name":"user-service","description":""}],"servers":[],"components":{"schemas":{"Address":{"type":"object","properties":{}},"User":{"type":"object","properties":{"id":{"type":"string","description":"User id"},"email":{"type":"string","description":"User email"},"firstName":{"type":"string","description":"First name"},"secondName":{"type":"string","description":"Second name"},"firstSurname":{"type":"string","description":"First Surname"},"secondSurname":{"type":"string","description":"Second Surname"},"phoneNumber":{"type":"string","description":"Phone number"},"phonePrefix":{"type":"string","description":"Phone prefix"},"accountsNumber":{"description":"Accounts number","type":"array","items":{"type":"string"}},"dob":{"format":"date-time","type":"string","description":"Dob","default":"YYYY-MM-DD"},"address":{"description":"Address","allOf":[{"$ref":"#/components/schemas/Address"}]},"status":{"type":"string","description":"User Status"},"riskProfile":{"type":"string","description":"Risk profile"},"personType":{"type":"number","description":"Person Type"},"externalId":{"type":"number","description":"External CRM Id"},"externalNumber":{"type":"string","description":"External CRM Number"},"bPartnerId":{"type":"string","description":"B Partner Id"},"enrollmentId":{"type":"string","description":"Enrollment Id"},"documentNumber":{"type":"string","description":"Document number"},"documentType":{"type":"number","description":"Document type"},"username":{"type":"string","description":"Username"},"deviceId":{"type":"string","description":"Device Id"}},"required":["id","email","firstName","secondName","firstSurname","secondSurname","phoneNumber","phonePrefix","accountsNumber","dob","address","status","riskProfile","personType","externalId","externalNumber","bPartnerId","enrollmentId","documentNumber","documentType","username","deviceId"]},"ValdiateUserExistDto":{"type":"object","properties":{"accountNumber":{"type":"string","description":"Account Number"},"phoneNumber":{"type":"string","description":"Phone Number"}},"required":["accountNumber","phoneNumber"]},"UpdateUserDto":{"type":"object","properties":{"email":{"type":"string","description":"User email"},"firstName":{"type":"string","description":"first name"},"lastName":{"type":"string","description":"Last name"},"phoneNumber":{"type":"string","description":"Phone number"},"dob":{"format":"date-time","type":"string","description":"User email","default":"YYYY-MM-DD"},"address":{"description":"Address","allOf":[{"$ref":"#/components/schemas/Address"}]},"status":{"type":"string","description":"Status"},"riskProfile":{"type":"string","description":"Risk profile"},"trackingId":{"type":"string","description":"Tracking identifier"},"phoneNumberVerified":{"type":"boolean","description":"Phone number is verified"}},"required":["email","firstName","lastName","phoneNumber","dob","address","status","riskProfile","trackingId","phoneNumberVerified"]},"UpdatePhoneNumberDto":{"type":"object","properties":{"userId":{"type":"string","description":"User identifier"},"phoneNumber":{"type":"string","description":"Phone number"},"trackingId":{"type":"string","description":"Tracking identifier"}},"required":["userId","phoneNumber","trackingId"]},"UpdatePhoneNumberResponse":{"type":"object","properties":{"requestId":{"type":"string","description":"Request identifier"}},"required":["requestId"]},"UpdateDeviceDto":{"type":"object","properties":{"userId":{"type":"string","description":"User identifier"},"deviceId":{"type":"string","description":"Device identifier"},"trackingId":{"type":"string","description":"Tracking identifier"}},"required":["userId","deviceId","trackingId"]},"AddUserDepositDto":{"type":"object","properties":{"userId":{"type":"string","description":"User id"},"accountNumber":{"type":"string","description":"Account number"},"trackingId":{"type":"string","description":"Tracking identifier"}},"required":["userId","accountNumber","trackingId"]},"CreateUserRequestDto":{"type":"object","properties":{"email":{"type":"string","description":"User email"}},"required":["email"]},"UpdateLocateDto":{"type":"object","properties":{"city":{"type":"string","description":"Clients city"},"departament":{"type":"string","description":"Clients departament"}},"required":["city","departament"]},"UserEventDto":{"type":"object","properties":{"bPartnerId":{"type":"string"},"externalId":{"type":"number"},"externalNumber":{"type":"string"},"phoneNumber":{"type":"string"},"enrollmentId":{"type":"string"}},"required":["bPartnerId","externalId","externalNumber","phoneNumber","enrollmentId"]},"CreateFavoriteDto":{"type":"object","properties":{"userId":{"type":"string","description":"User Id"},"favoriteAlias":{"type":"string","description":"Favorite alias"},"phoneNumber":{"type":"string","description":"Phone Number"},"clientId":{"type":"string","description":"Documento cliente origen"},"clientIdType":{"type":"string","description":"Tipo de documento"},"originCellphone":{"type":"string","description":"Telefono cliente origen"}},"required":["userId","favoriteAlias","phoneNumber","clientId","clientIdType","originCellphone"]},"Favorite":{"type":"object","properties":{}}}}}